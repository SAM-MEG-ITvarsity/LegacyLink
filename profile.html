<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LegacyLink ‚Äî Profile</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#F6F7FB;
      --card:#FFFFFF;
      --muted:#8A92A6;
      --accent: #2796c2; /* soft gold */
      --accent-2: #2796c2; /* mint */
      --glass: rgba(255,255,255,0.55);
      --radius:16px;
      --shadow: 0 8px 30px rgba(31,41,55,0.08);
      --glass-shadow: 0 6px 20px rgba(31,41,55,0.06);
      color-scheme: light;
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background: linear-gradient(180deg, #FBFCFE 0%, #F6F7FB 100%);
      min-height:100vh;
      color:#102028;
      -webkit-font-smoothing:antialiased;
    }

    /* Container */
    .wrapper{max-width:1100px; margin:28px auto;padding:20px;}

    /* Header */
    .header{
      height:180px;
      border-radius:18px;
      background: linear-gradient(135deg, rgba(212,180,131,0.14) 0%, rgba(163,217,200,0.06) 100%);
      display:flex;align-items:center;justify-content:space-between;padding:20px;position:relative;overflow:visible;box-shadow:var(--glass-shadow);
    }
    .profile-meta{display:flex;gap:18px;align-items:center}
    .avatar{
      width:110px;height:110px;border-radius:999px;border:6px solid  #2796c2;background:linear-gradient(180deg,#fff,#f4efe6);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:26px;color: #2796c2; box-shadow:0 8px 30px rgba(16,32,40,0.08);
    }
    .meta-text h1{margin:0;font-size:20px;letter-spacing:0.2px}
    .meta-text p{margin:6px 0 0;color:var(--muted);font-size:13px}

    .header-actions{display:flex;gap:10px;align-items:center}
    .icon-btn{background:var(--card);border-radius:10px;padding:10px;box-shadow:var(--shadow);border:none;cursor:pointer}

    /* Summary card */
    .summary-row{display:flex;gap:16px;margin-top:-48px;align-items:stretch}
    .card{background:var(--card);border-radius:14px;padding:16px;box-shadow:var(--shadow);flex:1}
    .stat{font-size:12px;color:var(--muted)}
    .stat-value{font-weight:700;font-size:18px;margin-top:8px}

    /* Layout */
    .main{display:grid;grid-template-columns:1fr 380px;gap:20px;margin-top:20px}

    /* About */
    .about{background:var(--card);border-radius:14px;padding:18px;box-shadow:var(--shadow)}
    .about h3{margin:0 0 8px}
    .bio{color:var(--muted);line-height:1.5}
    .edit-btn{margin-top:12px;background:transparent;border:1px solid rgba(16,32,40,0.06);padding:8px 12px;border-radius:10px;cursor:pointer}

    /* Investments */
    .investments{display:flex;flex-direction:column;gap:12px}
    .invest-card{display:flex;justify-content:space-between;align-items:center;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.98));box-shadow:var(--glass-shadow);border:1px solid rgba(20,30,40,0.02)}
    .invest-left{display:flex;gap:12px;align-items:center}
    .plan-badge{width:48px;height:48px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:700}
    .plan-info h4{margin:0;font-size:15px}
    .plan-info p{margin:4px 0 0;color:var(--muted);font-size:13px}
    .plan-actions button{padding:8px 12px;border-radius:10px;border:none;background:var(--accent);color:#fff;cursor:pointer}

    /* Legacy meter */
    .meter{background:var(--card);border-radius:14px;padding:18px;box-shadow:var(--shadow);text-align:center}
    .meter h4{margin:0 0 12px}
    .ring{width:140px;height:140px;margin:0 auto;display:flex;align-items:center;justify-content:center}
    .ring svg{transform:rotate(-90deg)}
    .ring .percent{position:absolute;font-weight:700}

    /* Activity */
    .activity{background:var(--card);border-radius:14px;padding:14px;box-shadow:var(--shadow)}
    .activity-item{display:flex;gap:12px;padding:8px 0;border-bottom:1px dashed rgba(16,32,40,0.04)}
    .activity-item:last-child{border-bottom:none}
    .act-icon{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#fff,#f7f7f8)}
    .act-text{font-size:14px;color:#21313a}
    .act-time{font-size:12px;color:var(--muted)}

    /* Floating actions */
    .actions{position:fixed;right:20px;bottom:24px;display:flex;flex-direction:column;gap:12px}
    .fab{background:linear-gradient(180deg,var(--accent),  #2796c2);border:none;color:#fff;padding:14px 16px;border-radius:999px;box-shadow:0 8px 30px rgba(16,32,40,0.14);cursor:pointer}
    .small-fab{background:var(--card);color:var(--muted);padding:10px;border-radius:12px;box-shadow:var(--shadow);border:none}

    /* Responsiveness */
    @media (max-width:980px){
      .main{grid-template-columns:1fr}
      .summary-row{flex-direction:column}
      .header{height:200px}
      .avatar{width:96px;height:96px}
    }

    /* Simple hover */
    .invest-card:hover{transform:translateY(-4px);transition:all 220ms ease}
    .card, .about, .meter, .activity{transition:transform 220ms ease}
  </style>
</head>
<body>
  <div class="wrapper">

    <header class="header" role="banner">
      <div class="profile-meta">
        <div class="avatar" id="avatar">SM</div>
        <div class="meta-text">
          <h1 id="fullName">Samantha-Megan Campher <span style="font-size:12px;color:var(--muted);font-weight:600">‚úî</span></h1>
          <p id="subtitle">Investor | Future Builder</p>
          <div style="margin-top:8px;color:var(--muted);font-size:13px">Joined: <strong id="joined">Jan 2025</strong></div>
        </div>
      </div>
      <div class="header-actions">
        <button class="icon-btn" title="Back">üîô</button>
        <button class="icon-btn" title="Settings">‚öôÔ∏è</button>
      </div>

      <!-- subtle glass card under header -->
      <div style="position:absolute;left:20%;right:20%;bottom:-44px;">
        <div class="summary-row">
          <div class="card">
            <div class="stat">Total Investments</div>
            <div class="stat-value" id="totalInvested">R45,200</div>
          </div>
          <div class="card">
            <div class="stat">Active Plans</div>
            <div class="stat-value" id="activePlans">3</div>
          </div>
          <div class="card">
            <div class="stat">Portfolio Growth (YTD)</div>
            <div class="stat-value" id="growth">+14.2%</div>
          </div>
        </div>
      </div>
    </header>

    <main class="main" role="main">
      <section>
        <div class="about">
          <h3>About</h3>
          <p class="bio" id="bio">I‚Äôm building a legacy of financial stability and faith for my children. Every investment is a seed for the future üå±.</p>
          <button class="edit-btn" onclick="editBio()">‚úèÔ∏è Edit Bio</button>
        </div>

        <div style="height:18px"></div>

        <div class="about investments">
          <h3 style="margin-bottom:6px">Investments</h3>

          <div id="investmentsList">
            <!-- investment cards injected by JS -->
          </div>

        </div>

        <div style="height:18px"></div>

        <div class="about activity">
          <h3 style="margin-bottom:6px">Activity</h3>
          <div id="activityList">
            <!-- activity items -->
          </div>
        </div>

      </section>

      <aside>
        <div class="meter">
          <h4>Legacy Progress</h4>
          <div class="ring" aria-hidden="true">
            <svg width="140" height="140" viewBox="0 0 120 120">
              <defs>
                <linearGradient id="g1" x1="0%" x2="100%">
                  <stop offset="0%" stop-color="#D4B483" />
                  <stop offset="100%" stop-color="#A3D9C8" />
                </linearGradient>
              </defs>
              <circle cx="60" cy="60" r="48" stroke="#eee" stroke-width="12" fill="none"></circle>
              <circle id="progressCircle" cx="60" cy="60" r="48" stroke="url(#g1)" stroke-width="12" stroke-linecap="round" fill="none" stroke-dasharray="301.44" stroke-dashoffset="120"></circle>
            </svg>
            <div class="percent" id="percentLabel" style="position:relative;">65%</div>
          </div>
          <p id="meterText" style="margin-top:12px;color:var(--muted)">You are R15,000 away from your next milestone üéØ</p>
        </div>

        <div style="height:18px"></div>

        <div class="card" style="padding:14px;">
          <h4 style="margin:0 0 8px">Quick Stats</h4>
          <div style="display:flex;justify-content:space-between;font-size:14px;color:var(--muted)">
            <div>Average ROI</div><div id="avgRoi">8.4%</div>
          </div>
          <div style="height:8px"></div>
          <div style="display:flex;justify-content:space-between;font-size:14px;color:var(--muted)">
            <div>Next Payout</div><div id="nextPayout">Nov 10, 2025</div>
          </div>
        </div>
      </aside>
    </main>

   
  </div>

  <script>
   // ‚úÖ Load user data from localStorage or fallback to mock data
let storedUser = JSON.parse(localStorage.getItem("user"));
if (!storedUser) {
  alert("No user data found ‚Äî please register first.");
  storedUser = {
    fullname: "Samantha-Megan Campher",
    email: "sample@email.com",
    phone: "0000000000",
  };
}

// ‚úÖ Load investments or use mock data
const storedInvestments = JSON.parse(localStorage.getItem('investments')) || [
  {id:1, name:'Housing Plan', tier:'Silver', invested:10000, roi:8.2, status:'Active', lastUpdate:'2 days ago'},
  {id:2, name:'Education Fund', tier:'Gold', invested:20000, roi:12.1, status:'Active', lastUpdate:'5 days ago'},
  {id:3, name:'Vehicle Savings', tier:'Standard', invested:5200, roi:5.0, status:'Active', lastUpdate:'1 week ago'}
];

// ‚úÖ Build the user object dynamically
const user = {
  name: storedUser.fullname,
  initials: storedUser.fullname ? storedUser.fullname.split(" ").map(w => w[0]).join("").toUpperCase().slice(0,2) : "U",
  subtitle: 'Investor | Future Builder',
  joined: new Date().toLocaleString('default', { month: 'short', year: 'numeric' }),
  bio: 'I‚Äôm building a legacy of financial stability and faith for my children. Every investment is a seed for the future üå±.',
  totalInvested: 45200,
  activePlans: storedInvestments.length,
  growth: 14.2,
  legacyPercent: 65,
  legacyGap: 15000,
  avgRoi: 8.4,
  nextPayout: 'Nov 10, 2025',
  investments: storedInvestments,
  activity: [
    {time:'Yesterday', text:'You logged in successfully', icon:'‚úÖ'},
    {time:'3 days ago', text:'Account created successfully', icon:'üéâ'}
  ]
};

// ‚úÖ Populate the page dynamically
const money = (v)=> 'R' + v.toLocaleString('en-ZA');

document.getElementById('fullName').childNodes[0].nodeValue = user.name + ' ';
document.getElementById('subtitle').textContent = user.subtitle;
document.getElementById('joined').textContent = user.joined;
document.getElementById('bio').textContent = user.bio;
document.getElementById('totalInvested').textContent = money(user.totalInvested);
document.getElementById('activePlans').textContent = user.activePlans;
document.getElementById('growth').textContent = (user.growth>0?'+':'')+user.growth+'%';
document.getElementById('avatar').textContent = user.initials;
document.getElementById('avgRoi').textContent = user.avgRoi + '%';
document.getElementById('nextPayout').textContent = user.nextPayout;
document.getElementById('percentLabel').textContent = user.legacyPercent + '%';
document.getElementById('meterText').textContent = 'You are R' + user.legacyGap.toLocaleString('en-ZA') + ' away from your next milestone üéØ';

// ‚úÖ Render investments dynamically
const invRoot = document.getElementById('investmentsList');
invRoot.innerHTML = ''; // clear
user.investments.forEach(inv=>{
  const el = document.createElement('div');
  el.className='invest-card';
  el.innerHTML = `
    <div class="invest-left">
      <div class="plan-badge" style="background:linear-gradient(180deg,rgba(212,180,131,0.14),rgba(163,217,200,0.04));width:56px;height:56px;border-radius:12px">${inv.tier.charAt(0)}</div>
      <div class="plan-info">
        <h4>${inv.name} <small style="color:var(--muted);font-weight:500">‚Ä¢ ${inv.tier}</small></h4>
        <p>Invested: <strong>${money(inv.invested)}</strong> ‚Ä¢ ROI: ${inv.roi}%</p>
      </div>
    </div>
    <div class="plan-actions">
      <button onclick="viewDetails(${inv.id})">View Details</button>
    </div>
  `;
  invRoot.appendChild(el);
});

// ‚úÖ Render activity
const actRoot = document.getElementById('activityList');
actRoot.innerHTML = '';
user.activity.forEach(a=>{
  const it = document.createElement('div');
  it.className='activity-item';
  it.innerHTML = `
    <div class="act-icon">${a.icon}</div>
    <div>
      <div class="act-text">${a.text}</div>
      <div class="act-time">${a.time}</div>
    </div>
  `;
  actRoot.appendChild(it);
});


  </script>
</body>
</html>
