<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LegacyLink Investment Registration Form</title>
  <link rel="stylesheet" href="invest.css">
</head>
<body>

  <h2>LegacyLink Investment Registration Form</h2>

  <form id="investmentForm" action="#" method="post" enctype="multipart/form-data">

    <!-- Parent Information -->
    <fieldset>
      <legend>Parent / Guardian Information</legend>

      <label for="parentName">Full Name:</label><br>
      <input type="text" id="parentName" name="parentName" placeholder="Enter full name" required><br><br>

      <label for="parentID">ID Number:</label><br>
      <input type="text" id="parentID" name="parentID" placeholder="Enter ID number" required><br><br>

      <label for="parentAddress">Residential Address:</label><br>
      <textarea id="parentAddress" name="parentAddress" rows="3" placeholder="Enter your full address" required></textarea><br><br>

      <label for="parentEmail">Email Address:</label><br>
      <input type="email" id="parentEmail" name="parentEmail" placeholder="Enter email" required><br><br>

      <label for="parentPhone">Phone Number:</label><br>
      <input type="text" id="parentPhone" name="parentPhone" placeholder="e.g. ‪‪+27 68 123 4567‬‬" required><br><br>
    </fieldset>

    <!-- Child Information -->
    <fieldset>
      <legend>Child Information</legend>

      <label for="childName">Full Name:</label><br>
      <input type="text" id="childName" name="childName" placeholder="Enter child's full name" required><br><br>

      <label for="childID">ID/Birth Certificate Number:</label><br>
      <input type="text" id="childID" name="childID" placeholder="Enter child's ID or birth certificate number" required><br><br>
    </fieldset>

    <!-- Alternative Guardian -->
    <fieldset>
      <legend>Alternative Guardian (Optional)</legend>

      <label for="guardianName">Full Name:</label><br>
      <input type="text" id="guardianName" name="guardianName" placeholder="Enter guardian's full name"><br><br>

      <label for="guardianID">ID Number:</label><br>
      <input type="text" id="guardianID" name="guardianID" placeholder="Enter guardian's ID number"><br><br>

      <label for="guardianPhone">Phone Number:</label><br>
      <input type="text" id="guardianPhone" name="guardianPhone" placeholder="e.g. ‪‪+27 68 123 4567‬‬"><br><br>

      <label for="guardianAddress">Address:</label><br>
      <textarea id="guardianAddress" name="guardianAddress" rows="3" placeholder="Enter guardian's address"></textarea><br><br>
    </fieldset>

    <!-- Document Upload -->
    <fieldset>
      <legend>Required Document Uploads</legend>

      <label for="idUpload">Parent ID / Passport:</label><br>
      <input type="file" id="idUpload" name="idUpload" accept=".pdf,.jpg,.jpeg,.png" required><br><br>

      <label for="birthCertUpload">Child Birth Certificate:</label><br>
      <input type="file" id="birthCertUpload" name="birthCertUpload" accept=".pdf,.jpg,.jpeg,.png" required><br><br>

      <label for="bankStatement">Recent Bank Statement:</label><br>
      <input type="file" id="bankStatement" name="bankStatement" accept=".pdf,.jpg,.jpeg,.png" required><br><br>

      <label for="proofResidence">Proof of Residence:</label><br>
      <input type="file" id="proofResidence" name="proofResidence" accept=".pdf,.jpg,.jpeg,.png" required><br><br>

      <label for="paySlip">Latest Pay Slip:</label><br>
      <input type="file" id="paySlip" name="paySlip" accept=".pdf,.jpg,.jpeg,.png" required><br><br>

      <!-- Partner Selection Section -->
      <h3>Select a Partner</h3>
      <p>Choose one from the list below:</p>

      <label for="partnerType">Partner Type:</label><br>
      <select id="partnerType" name="partnerType">
        <option value="bank">Bank Partner</option>
        <option value="insurance">Insurance Partner</option>
      </select><br><br>

      <label for="partnersList">Partners:</label><br>
      <select id="partnersList" name="partnersList">
        <option value="absa">Absa Bank Ltd</option>
        <option value="standardbank">Standard Bank of South Africa Ltd</option>
        <option value="capitec">Capitec Bank Ltd</option>
        <option value="nedbank">Nedbank Ltd</option>
        <option value="investec">Investec Bank Ltd</option>
        <option value="sanlam">Sanlam Group</option>
        <option value="oldmutual">Old Mutual Ltd</option>
        <option value="santam">Santam Ltd</option>
        <option value="hollard">Hollard Insurance Company Ltd</option>
        <option value="miway">MiWay Insurance</option>
      </select>
      <br><br><hr><br>
    </fieldset>

    <!-- Terms and Conditions -->
    <fieldset>
      <legend>LegacyLink – Terms and Conditions of Investment</legend>

      <div style="border:1px solid #000; padding:10px; height:400px; overflow-y:scroll;">
        <!-- Your full T&C text here -->
        <h3>LegacyLink – Terms and Conditions of Investment</h3>
        <p><strong>Last updated:</strong> [Insert Date]</p>
        <p>Welcome to LegacyLink, a digital investment and financial planning platform ...</p>
        <!-- truncated for brevity -->
      </div><br>

      <label>
        <input type="checkbox" name="acceptTerms" required> I have read and agree to the Terms and Conditions
      </label>
      <br><br>
      <button type="submit">Accept</button>
      <button type="button" onclick="alert('You have declined the Terms and Conditions. Registration cancelled.')">Decline</button>
      <br><br>
      <!-- Payment button -->
      <button type="button" id="openPayment">Proceed to Payment</button>
    </fieldset>

  </form>

  <!-- Full-page Payment Overlay -->
  <div id="paymentOverlay" style="display:none; position:fixed; z-index:2000; left:0; top:0; width:100%; height:100%; background-color:rgba(0,0,0,0.85); overflow:auto;">
    <div style="background-color:#fff; margin:50px auto; padding:40px; border-radius:10px; max-width:500px; width:90%; text-align:center;">
      <span id="closeOverlay" style="color:#333; float:right; font-size:28px; font-weight:bold; cursor:pointer;">&times;</span>
      <h2>Payment Details</h2>
      <form id="fullPaymentForm">
        <label for="cardName">Cardholder Name:</label><br>
        <input type="text" id="cardName" name="cardName" placeholder="Enter name on card" required><br><br>

        <label for="cardNumber">Card Number:</label><br>
        <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" required><br><br>

        <label for="expiryDate">Expiry Date:</label><br>
        <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/YY" required><br><br>

        <label for="cvv">CVV:</label><br>
        <input type="text" id="cvv" name="cvv" placeholder="123" required><br><br>

        <button type="submit">Pay Now</button>
      </form>
    </div>
  </div>

<script>
  // Payment Overlay
  var overlay = document.getElementById("paymentOverlay");
  var openOverlayBtn = document.getElementById("openPayment");
  var closeOverlay = document.getElementById("closeOverlay");

  openOverlayBtn.onclick = function() { overlay.style.display = "block"; }
  closeOverlay.onclick = function() { overlay.style.display = "none"; }
  window.onclick = function(event) { if(event.target == overlay){ overlay.style.display = "none"; } }
  document.getElementById("fullPaymentForm").onsubmit = function(e){
    e.preventDefault();
    alert("Payment processed successfully!");
    overlay.style.display = "none";
  }

  // Capture and store form data
  document.getElementById("investmentForm").addEventListener("submit", function(e){
    e.preventDefault();

    const profileData = {
      parentName: document.getElementById("parentName").value,
      parentID: document.getElementById("parentID").value,
      parentAddress: document.getElementById("parentAddress").value,
      parentEmail: document.getElementById("parentEmail").value,
      parentPhone: document.getElementById("parentPhone").value,
      childName: document.getElementById("childName").value,
      childID: document.getElementById("childID").value,
      guardianName: document.getElementById("guardianName").value,
      guardianID: document.getElementById("guardianID").value,
      guardianPhone: document.getElementById("guardianPhone").value,
      guardianAddress: document.getElementById("guardianAddress").value,
      partnerType: document.getElementById("partnerType").value,
      partnersList: document.getElementById("partnersList").value,
      documents: {
        parentIDFile: document.getElementById("idUpload").files[0]?.name || "N/A",
        childBirthCert: document.getElementById("birthCertUpload").files[0]?.name || "N/A",
        bankStatement: document.getElementById("bankStatement").files[0]?.name || "N/A",
        proofResidence: document.getElementById("proofResidence").files[0]?.name || "N/A",
        paySlip: document.getElementById("paySlip").files[0]?.name || "N/A"
      }
    };

    localStorage.setItem("legacyLinkProfile", JSON.stringify(profileData));

    // Redirect to profile page
    window.location.href = "profileinformation.html";
  });
</script>

</body>
</html>
